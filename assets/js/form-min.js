jQuery(document).ready((function(){let e={rentalMethod:{long:"장기렌트",lease:"리스",compare:"렌트/리스 비교"},estimatedRentalFee:{m35:"35만원 미만",m45:"35만원 ~ 45만원 미만",m55:"45만원 ~ 55만원 미만",m65:"55만원 ~ 65만원 미만",m75:"65만원 ~ 75만원 미만",m999:"75만원 이상"},rentalPeriod:{m36:"36개월",m48:"48개월",m60:"60개월"},deposit:{yes_deposit:"보증금 유",no_deposit:"보증금 무"},include_maintenance_service:"정비서비스 포함(추가비용 발생)",customerType:{private:"개인사업자",company:"법인사업자"}};var $,t;!function($){let e=$(".open-modal");0!=e.length&&e.on("click",(()=>{$("#ppa-modal").modal({fadeDuration:100})}))}(jQuery),($=jQuery)(document).on("keyup",".phone-number",(function(){$(this).val($(this).val().replace(/[^0-9]/g,"").replace(/(^02|^0505|^1[0-9]{3}|^0[0-9]{2})([0-9]+)?([0-9]{4})$/,"$1-$2-$3").replace("--","-"));let e=$(this).val();validatePhoneNumber(e)?this.setCustomValidity(""):this.setCustomValidity("invalid")})),jQuery,t=document.querySelectorAll(".needs-validation"),Array.prototype.slice.call(t).forEach((function(e){e.addEventListener("submit",(function(t){e.checkValidity()||(t.preventDefault(),t.stopPropagation()),e.classList.add("was-validated")}),!1)})),function($){if(0==$(".consult-simple-form").length.length)return;let e=$('.consult-simple-form form input[name="consult_name"]'),t=$('.consult-simple-form form input[name="consult_phone_number"]'),n=$('.consult-simple-form form select[name="consult_location"]'),o=$('.consult-simple-form form select[name="consult_estimated_rental_fee"]'),a=$(".consult-simple-form form #privacy-policy-agreement-check");$(".consult-simple-form form").on("submit",(c=>{c.preventDefault();let l=$('.consult-simple-form form input[name="action"]').val(),r=e.val(),s=t.val(),i=n.val(),m=o.val(),u=$('.consult-simple-form form input[name="_wpnonce"]').val();return r.length<1?(alert("성함을 입력해주세요"),void e.focus()):s.length<1?(alert("전화번호를 입력해주세요"),void t.focus()):validatePhoneNumber(s)?void(a.is(":checked")?$.ajax({type:"post",dataType:"json",url:cpm_object.ajax_url,data:{nonce:u,action:l,consult_type:"consult_simple",consult_name:r,consult_phone_number:s,consult_location:i,consult_estimated_rental_fee:m},success:function(a){e.val(""),t.val(""),n.prop("selectedIndex",0),o.prop("selectedIndex",0),setTimeout((function(){post("/contact-simple.php",{t1:r,t2:s,t3:i,t4:m})}),500)},error:function(e){console.log("error"),console.log(e.responseText)}}):alert("개인정보제공 이용약관 동의가 필요합니다")):(alert("전화번호를 다시 확인해주세요"),t[0].setCustomValidity("invalid"),void t.focus())}))}(jQuery),function($){if($(".consult-tabs").length<1)return;$tabLinks=$(".consult-tabs .tab-links li"),$tabContents=$(".consult-tabs .tab-content"),$tabLinks.on("click",(function(){let e=$(this);$tabLinks.removeClass("active"),$tabContents.removeClass("active"),e.addClass("active");let t=e.attr("id");$(`.consult-tabs [data-link="${t}"]`).addClass("active")}));let t=window.location.hash;t.length<3&&(t="#tab-link-rent"),$(".consult-tabs .tab-links "+t).click(),$(".tab-content.rent form #consult-available-call-time").change((function(){let e=$(this),t=e.val(),n=$('.tab-content.rent form input[name="consult_available_call_time"]');"other"!=t?n.val(t):(n.val(""),$(".tab-content.rent form .consult-available-call-time-etc").removeClass("d-none"),e.addClass("d-none"))})),$rentForm=$(".tab-content.rent form"),$rentForm.on("submit",(function(t){if(t.preventDefault(),!this.checkValidity())return void t.stopPropagation();var n={nonce:$(".tab-content.rent form #_wpnonce").val(),action:$('.tab-content.rent form input[name="action"]').val(),carid:$('.tab-content.rent form input[name="carid"]').val(),consult_type:$('.tab-content.rent form input[name="consult_type"]').val(),name:$('.tab-content.rent form input[name="consult_name"]').val(),phone_number:$('.tab-content.rent form input[name="consult_phone_number"]').val(),location:$('.tab-content.rent form select[name="consult_location"]').val(),estimated_rental_fee:$('.tab-content.rent form select[name="consult_estimated_rental_fee"]').val(),rental_method:$('.tab-content.rent form input[name="consult_rental_method"]:checked').val(),rental_period:$('.tab-content.rent form input[name="consult_rental_period"]:checked').val(),yes_deposit:$('.tab-content.rent form input[name="consult_etc_yes_deposit"]:checked').val(),no_deposit:$('.tab-content.rent form input[name="consult_etc_no_deposit"]:checked').val(),include_maintenance_service:$('.tab-content.rent form input[name="consult_etc_include_maintenance_service"]:checked').val(),available_call_time:$('.tab-content.rent form input[name="consult_available_call_time"]').val(),message:$('.tab-content.rent form textarea[name="consult_message"]').val()};let o=e.estimatedRentalFee[n.estimated_rental_fee],a="";n.rental_method&&(a=e.rentalMethod[n.rental_method]);let c="";n.rental_period&&(c=e.rentalPeriod[n.rental_period]),console.log("result",n);let l="";"yes_deposit"==n.yes_deposit?l="보증금 유":"no_deposit"==n.no_deposit&&(l="보즘금 무");let r="";"include_maintenance_service"==n.include_maintenance_service&&(r="정비서비스 포함"),$.ajax({type:"post",dataType:"json",url:cpm_object.ajax_url,data:n,success:function(e){console.log("success"),clearForm($rentForm),$rentForm.removeClass("was-validated");post("/contact-rent.php",{c1:n.name,c2:n.phone_number,c4:n.location,c5:o,c13:a,c6:c,c7:l,c8:r,c9:n.available_call_time,c10:n.message})},error:function(e){console.log("error"),console.log(e.responseText)}})})),$electricForm=$(".tab-content.electric form"),$electricForm.on("submit",(function(e){if(e.preventDefault(),this.checkValidity()){var t={nonce:$(".tab-content.electric form #_wpnonce").val(),action:$('.tab-content.electric form input[name="action"]').val(),consult_type:$('.tab-content.electric form input[name="consult_type"]').val(),name:$('.tab-content.electric form input[name="consult_name"]').val(),phone_number:$('.tab-content.electric form input[name="consult_phone_number"]').val(),location:$('.tab-content.electric form select[name="consult_location"]').val(),car_type:$('.tab-content.electric form input[name="consult_car_type"]').val(),message:$('.tab-content.electric form textarea[name="consult_message"]').val()};if(!validatePhoneNumber(t.phone_number))return $phoneNumber=$('.tab-content.electric form input[name="consult_phone_number"]'),$phoneNumber[0].setCustomValidity("invalid"),void $phoneNumber.focus();$.ajax({type:"post",dataType:"json",url:cpm_object.ajax_url,data:t,success:function(e){console.log("success"),clearForm($electricForm),$electricForm.removeClass("was-validated");post("/contact-electric.php",{b1:t.name,b2:t.phone_number,b4:t.location,b5:t.car_type,b10:t.message})},error:function(e){console.log("error"),console.log(e.responseText)}})}else e.stopPropagation()})),$taxForm=$(".tab-content.tax form"),$taxForm.on("submit",(function(t){if(t.preventDefault(),!this.checkValidity())return void t.stopPropagation();var n={nonce:$(".tab-content.tax form #_wpnonce").val(),action:$('.tab-content.tax form input[name="action"]').val(),consult_type:$('.tab-content.tax form input[name="consult_type"]').val(),name:$('.tab-content.tax form input[name="consult_name"]').val(),phone_number:$('.tab-content.tax form input[name="consult_phone_number"]').val(),customer_type:$('.tab-content.tax form input[name="consult_customer_type"]:checked').val(),message:$('.tab-content.tax form textarea[name="consult_message"]').val()};let o="";if(n.customer_type&&(o=e[n.customer_type]),!validatePhoneNumber(n.phone_number))return $phoneNumber=$('.tab-content.tax form input[name="consult_phone_number"]'),$phoneNumber[0].setCustomValidity("invalid"),void $phoneNumber.focus();$.ajax({type:"post",dataType:"json",url:cpm_object.ajax_url,data:n,success:function(e){console.log("success"),clearForm($taxForm),$taxForm.removeClass("was-validated");post("/contact-tax.php",{a1:n.name,a2:n.phone_number,a4:o,a5:n.message})},error:function(e){console.log("error"),console.log(e.responseText)}})}))}(jQuery)}));